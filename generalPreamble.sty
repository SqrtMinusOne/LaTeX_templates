\ProvidesPackage{generalPreamble}

% ====== Math ======
\usepackage{amsmath} % Math stuff
\usepackage{mathtools}
\usepackage{gensymb}
\usepackage{amssymb}
\usepackage{interval}

\intervalconfig{
    soft open fences
}

% ====== List ======
\usepackage{enumitem}
\usepackage{etoolbox}
\setlist{nosep, topsep=-10pt} % Remove sep-s beetween list elements
\setlist[enumerate]{label*=\arabic*.}
\setlist[enumerate,1]{after=\vspace{0.5\baselineskip}}
\setlist[itemize,1]{after=\vspace{0.5\baselineskip}}

\AtBeginEnvironment{itemize}{%
    \setlist[enumerate]{label=\arabic*.}
    \setlist[enumerate,1]{after=\vspace{0\baselineskip}}
}

% ====== CSV ======
\usepackage{csvsimple} % Load CSV

% ====== References ======
\usepackage{environ}
\usepackage{xcolor}
\usepackage{hyperref} % Links
\hypersetup{
    colorlinks,
    citecolor=black,
    filecolor=black,
    linkcolor=black,
    urlcolor=black,
}

\NewEnviron{underlineURL}{%
    {%
        \hypersetup{
            colorlinks=false,
            urlbordercolor=black,
            pdfborderstyle={/S/U/W 1}
        }
        \BODY{}
    }
}

% Linebreaks for urls
\expandafter\def\expandafter\UrlBreaks\expandafter{\UrlBreaks%  save the current one
  \do\a\do\b\do\c\do\d\do\e\do\f\do\g\do\h\do\i\do\j%
  \do\k\do\l\do\m\do\n\do\o\do\p\do\q\do\r\do\s\do\t%
  \do\u\do\v\do\w\do\x\do\y\do\z\do\A\do\B\do\C\do\D%
  \do\E\do\F\do\G\do\H\do\I\do\J\do\K\do\L\do\M\do\N%
  \do\O\do\P\do\Q\do\R\do\S\do\T\do\U\do\V\do\W\do\X%
  \do\Y\do\Z}

% ====== Captions ======
\usepackage[tableposition=top]{caption}
\usepackage{subcaption}
\usepackage{floatrow}

\floatsetup[table]{%
    style=Plaintop,
    capbesideframe=yes,
}

\captionsetup[table]{
    labelsep=period,
    % justification=RaggedRight,
    parskip=0pt,
    singlelinecheck=false,
    skip=3pt
}

\captionsetup[figure]{
    name=Рисунок,
    justification=centering,
    labelsep=endash,
    parskip=6pt,
    skip=3pt
}

% ====== Tables ======
\usepackage{tabularx} % X-tables
\usepackage{booktabs}
\usepackage{longtable}

% ====== Misc ======
\usepackage{metalogo} % Logos for LaTeX
\usepackage{lipsum} % Lorem ipsum
\usepackage{graphicx} % Pictures
\usepackage{csquotes} % French quoutes
\usepackage{multirow} % Multi-row tables
\usepackage{tcolorbox} % Nice colored box

\usepackage{lastpage} % Link to the last page
\usepackage{soul}
\usepackage{pifont}

\usepackage{placeins} % FloatBarrier

\usepackage[final]{pdfpages} % Include PDF
\setboolean{@twoside}{false}

\usepackage[normalem]{ulem}

% Quotes and verses style
\AtBeginEnvironment{quote}{\singlespacing}
\AtBeginEnvironment{verse}{\singlespacing}

% ====== Plotting ======
\usepackage{tikz}
\usepackage{pgfplots}
\usepackage{pgfplotstable}
\pgfplotsset{compat=newest}
\usepgfplotslibrary{dateplot}


% ====== My commands ======
\newcommand{\screenshot}[3]{
    \begin{figure}[h]
        \centering
        \includegraphics[#1]{#2}
        \caption{#3}
    \end{figure}
}

\newcommand{\dfn}[1]{
    \textit{#1}
}

\NewEnviron{rotateandfit}{%
    \begin{center}
        \rotatebox{90}{
            \resizebox{\dimexpr\pagegoal-\pagetotal-\baselineskip\relax}{!}{%
                \BODY{}
        }
    }
    \end{center}
}

\NewEnviron{fitandrotate}{%
    \begin{center}
        \resizebox{\textwidth}{!}{%
            \rotatebox{90}{
                \BODY{}
            }
        }
    \end{center}
}

\newcommand\tline[2]{$\underset{\text{#1}}{\text{\underline{\hspace{#2}}}}$}

\newcolumntype{P}[1]{>{\centering\arraybackslash}p{#1}}

\newcommand{\underlinestretch}[2]{\makebox[#1]{%
    \centering\uline{\hfill #2 \hfill}%
}}

\newcommand{\underlinebreak}[2]{\makebox[#1]{%
\hrulefill{}\:#2\:\hrulefill{}
}}

% ====== Counters ======

\numberwithin{equation}{section}
